<?xml version="1.0" ?>

<TestCase name="mysub" version="5">

<meta>
   <create version="8.4.0" buildNumber="8.4.0.227" author="admin" date="03/24/2018" host="HVDIVD18MIS1939" />
   <lastEdited version="8.4.0" buildNumber="8.4.0.227" author="admin" date="03/28/2018" host="HVDIVD18MIS1939" />
</meta>

<id>7CF6CFD22F5711E890A61E4720524153</id>
<Documentation>Put documentation of the Test Case here.</Documentation>
<IsInProject>true</IsInProject>
<sig>ZWQ9NSZ0Y3Y9NSZsaXNhdj04LjQuMCAoOC40LjAuMjI3KSZub2Rlcz0yMDU0MTUwOTMw</sig>
<subprocess>true</subprocess>

<initState>
    <Parameter>
    <key>id</key>
    <value>&lt;&lt; default value &gt;&gt;</value>
    <name>user id</name>
    </Parameter>
    <Parameter>
    <key>pass</key>
    <value>&lt;&lt; default value &gt;&gt;</value>
    <name>password</name>
    </Parameter>
</initState>

<resultState>
    <Parameter>
    <key>CHECKINGACC</key>
    <value></value>
    <name>Set 1st in Web Service addUserObject</name>
    </Parameter>
    <Parameter>
    <key>DBCONNURL</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>DBDRIVER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>DBNAME</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>DBPASSWORD</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>DBPORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>DBUSER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>EJBPORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>EJBSERVER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>ENDPOINT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>ENDPOINT1</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>ENDPOINT2</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>JMSCONNECTIONFACTORY</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>JNDIFACTORY</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>JNDIPORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>JNDIPROTOCOL</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>LIVE_INVOCATION_PORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>LIVE_INVOCATION_PORT1</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>LIVE_INVOCATION_SERVER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>PORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>PWD</key>
    <value></value>
    <name>Set 1st in Web Service addUserObject</name>
    </Parameter>
    <Parameter>
    <key>SERVER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>SERVER1</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>VSE_WSPORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>WSPORT</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>WSPORT1</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>WSSERVER</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>WSSERVER1</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>lisa.JDBC  select users.rsp</key>
    <value></value>
    <name>Set 1st in JDBC  select users</name>
    </Parameter>
    <Parameter>
    <key>lisa.JDBC  select users.rsp.time</key>
    <value></value>
    <name>Set 1st in JDBC  select users</name>
    </Parameter>
    <Parameter>
    <key>lisa.Output Log Message.rsp</key>
    <value></value>
    <name>Set 1st in Output Log Message</name>
    </Parameter>
    <Parameter>
    <key>lisa.Output Log Message.rsp.time</key>
    <value></value>
    <name>Set 1st in Output Log Message</name>
    </Parameter>
    <Parameter>
    <key>lisa.Web Service addUserObject.rsp</key>
    <value></value>
    <name>Set 1st in Web Service addUserObject</name>
    </Parameter>
    <Parameter>
    <key>lisa.Web Service addUserObject.rsp.time</key>
    <value></value>
    <name>Set 1st in Web Service addUserObject</name>
    </Parameter>
    <Parameter>
    <key>lisa.Web Service deleteUser.rsp</key>
    <value></value>
    <name>Set 1st in Web Service deleteUser</name>
    </Parameter>
    <Parameter>
    <key>lisa.Web Service deleteUser.rsp.time</key>
    <value></value>
    <name>Set 1st in Web Service deleteUser</name>
    </Parameter>
    <Parameter>
    <key>lisa.vse.execution.mode</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>order.step.2.queue</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>password</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>user</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
    <Parameter>
    <key>user_prefix</key>
    <value></value>
    <name>Set in project.config configuration</name>
    </Parameter>
</resultState>

<deletedProps>
</deletedProps>

    <Node name="Web Service addUserObject" log=""
          type="com.itko.lisa.ws.nx.NxWSStep" 
          version="1" 
          uid="A5395C092F5711E890A61E4720524153" 
          think="500-1S" 
          useFilters="true" 
          quiet="false" 
          next="JDBC  select users" > 


      <!-- Filters -->
      <Filter type="com.itko.lisa.xml.FilterXMLXPath">
        <valueToFilterKey>lisa.Web Service addUserObject.rsp</valueToFilterKey>
<prop>CHECKINGACC</prop>
<xpathq>/env:Envelope/env:Body/ns2:addUserObjectResponse/return/accounts/id/text()</xpathq>
<nsMap0>=</nsMap0>
<nsMap1>ns2=http://ejb3.examples.itko.com/</nsMap1>
<nsMap2>env=http://schemas.xmlsoap.org/soap/envelope/</nsMap2>
      </Filter>

      <Filter type="com.itko.lisa.xml.FilterXMLXPath">
        <valueToFilterKey>lisa.Web Service addUserObject.rsp</valueToFilterKey>
<prop>PWD</prop>
<xpathq>/env:Envelope/env:Body/ns2:addUserObjectResponse/return/pwd/text()</xpathq>
<nsMap0>=</nsMap0>
<nsMap1>ns2=http://ejb3.examples.itko.com/</nsMap1>
<nsMap2>env=http://schemas.xmlsoap.org/soap/envelope/</nsMap2>
      </Filter>

<wsdl>http://{{WSSERVER}}:{{WSPORT}}/itkoExamples/EJB3UserControlBean?wsdl</wsdl>
<endpoint>{{ENDPOINT2}}</endpoint>
<targetNamespace>http://ejb3.examples.itko.com/</targetNamespace>
<service>EJB3UserControlBeanService</service>
<port>EJB3UserControlBeanPort</port>
<operation>addUserObject</operation>
<onError>abort</onError>
<maintainSession>true</maintainSession>
<clearSession>false</clearSession>
<request itko_enc="base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjxzb2FwZW52OkVudmVsb3BlIHhtbG5zOnNvYXBlbnY9Imh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvIiB4bWxuczp4cz0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEiPg0KICA8c29hcGVudjpCb2R5Pg0KICAgIDxhZGRVc2VyT2JqZWN0IHhtbG5zPSJodHRwOi8vZWpiMy5leGFtcGxlcy5pdGtvLmNvbS8iPg0KICAgICAgPCEtLXVzZXJPYmplY3QgaXMgb3B0aW9uYWwtLT4NCiAgICAgIDx1c2VyT2JqZWN0IHhtbG5zPSIiPg0KICAgICAgICA8IS0tYWNjb3VudHMgaXMgbmlsbGFibGUgYW5kIG9wdGlvbmFsLCBidXQgY2FuIGhhdmUgYW4gdW5saW1pdGVkIG51bWJlciBvZiBpbnN0YW5jZXMtLT4NCiAgICAgICAgPGFjY291bnRzPg0KICAgICAgICAgIDwhLS1iYWxhbmNlIGlzIG9wdGlvbmFsLS0+DQogICAgICAgICAgPGJhbGFuY2U+e3s9WzpiYWxhbmNlOkQqKDEtMylcLkQqKDEtMildfX08L2JhbGFuY2U+DQogICAgICAgICAgPCEtLWlkIGlzIG9wdGlvbmFsLS0+DQogICAgICAgICAgPCEtLW5hbWUgaXMgb3B0aW9uYWwtLT4NCiAgICAgICAgICA8bmFtZT57e2lkfX08L25hbWU+DQogICAgICAgICAgPCEtLXR5cGUgaXMgb3B0aW9uYWwtLT4NCiAgICAgICAgICA8IS0tdHlwZSBzdXBwb3J0cyBlbnVtZXJhdGVkIHZhbHVlczogQ0hFQ0tJTkcsIFNBVklOR1MsIENSRURJVCwgQVVUT19MT0FOLCBTVFVERU5UX0xPQU4sIE1PUlRHQUdFLS0+DQogICAgICAgICAgPHR5cGU+Q0hFQ0tJTkc8L3R5cGU+DQogICAgICAgIDwvYWNjb3VudHM+DQogICAgICAgIDwhLS1hZGRyZXNzZXMgaXMgbmlsbGFibGUgYW5kIG9wdGlvbmFsLCBidXQgY2FuIGhhdmUgYW4gdW5saW1pdGVkIG51bWJlciBvZiBpbnN0YW5jZXMtLT4NCiAgICAgICAgPGFkZHJlc3Nlcz4NCiAgICAgICAgICA8IS0tY2l0eSBpcyBvcHRpb25hbC0tPg0KICAgICAgICAgIDxjaXR5Pnt7PSViZWFuc2hlbGwlIGNvbS5jYS5zdi5kZXZ0ZXN0LnV0aWwuR2VuZXJhdGVTdHJpbmcuZm9yUmVnZXgoIltBLVphLXowLTldezUsMTV9Iik7fX08L2NpdHk+DQogICAgICAgICAgPCEtLWlkIGlzIG9wdGlvbmFsLS0+DQogICAgICAgICAgPGlkPnt7PSViZWFuc2hlbGwlIGNvbS5jYS5zdi5kZXZ0ZXN0LnV0aWwuR2VuZXJhdGVTdHJpbmcuZm9yUmVnZXgoIltBLVphLXowLTldezUsMTV9Iik7fX08L2lkPg0KICAgICAgICAgIDwhLS1saW5lMSBpcyBvcHRpb25hbC0tPg0KICAgICAgICAgIDxsaW5lMT57ez0lYmVhbnNoZWxsJSBjb20uY2Euc3YuZGV2dGVzdC51dGlsLkdlbmVyYXRlU3RyaW5nLmZvclJlZ2V4KCJbQS1aYS16MC05XXs1LDE1fSIpO319PC9saW5lMT4NCiAgICAgICAgICA8IS0tbGluZTIgaXMgb3B0aW9uYWwtLT4NCiAgICAgICAgICA8bGluZTI+e3s9JWJlYW5zaGVsbCUgY29tLmNhLnN2LmRldnRlc3QudXRpbC5HZW5lcmF0ZVN0cmluZy5mb3JSZWdleCgiW0EtWmEtejAtOV17NSwxNX0iKTt9fTwvbGluZTI+DQogICAgICAgICAgPCEtLXN0YXRlIGlzIG9wdGlvbmFsLS0+DQogICAgICAgICAgPHN0YXRlPnt7PSViZWFuc2hlbGwlIGNvbS5jYS5zdi5kZXZ0ZXN0LnV0aWwuR2VuZXJhdGVTdHJpbmcuZm9yUmVnZXgoIltBLVphLXowLTldezUsMTV9Iik7fX08L3N0YXRlPg0KICAgICAgICAgIDx6aXA+e3s9Wzp6aXA6MV19fTwvemlwPg0KICAgICAgICA8L2FkZHJlc3Nlcz4NCiAgICAgICAgPCEtLWVtYWlsIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxlbWFpbD57ez0lYmVhbnNoZWxsJSBjb20uY2Euc3YuZGV2dGVzdC51dGlsLkdlbmVyYXRlU3RyaW5nLmZvclJlZ2V4KCJbQS1aYS16MC05XXs1LDE1fSIpO319PC9lbWFpbD4NCiAgICAgICAgPCEtLWZuYW1lIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxmbmFtZT57ez0lYmVhbnNoZWxsJSBjb20uY2Euc3YuZGV2dGVzdC51dGlsLkdlbmVyYXRlU3RyaW5nLmZvclJlZ2V4KCJbQS1aYS16MC05XXs1LDE1fSIpO319PC9mbmFtZT4NCiAgICAgICAgPCEtLWxuYW1lIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxsbmFtZT57ez0lYmVhbnNoZWxsJSBjb20uY2Euc3YuZGV2dGVzdC51dGlsLkdlbmVyYXRlU3RyaW5nLmZvclJlZ2V4KCJbQS1aYS16MC05XXs1LDE1fSIpO319PC9sbmFtZT4NCiAgICAgICAgPCEtLWxvZ2luIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxsb2dpbj5zZGF7e2lkfX1zZHMxMjwvbG9naW4+DQogICAgICAgIDwhLS1uZXdGbGFnIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxuZXdGbGFnPnt7PVs6bmV3RmxhZzpbMSwwXV19fTwvbmV3RmxhZz4NCiAgICAgICAgPCEtLXBob25lIGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDxwaG9uZT57ez0lYmVhbnNoZWxsJSBjb20uY2Euc3YuZGV2dGVzdC51dGlsLkdlbmVyYXRlU3RyaW5nLmZvclJlZ2V4KCJbQS1aYS16MC05XXs1LDE1fSIpO319PC9waG9uZT4NCiAgICAgICAgPCEtLXB3ZCBpcyBvcHRpb25hbC0tPg0KICAgICAgICA8cHdkPnt7cGFzc319PC9wd2Q+DQogICAgICAgIDwhLS1yb2xlS2V5IGlzIG9wdGlvbmFsLS0+DQogICAgICAgIDwhLS1yb2xlS2V5IHN1cHBvcnRzIGVudW1lcmF0ZWQgdmFsdWVzOiBHVUVTVCwgUkVHVUxBUiwgQURNSU4tLT4NCiAgICAgICAgPHJvbGVLZXk+UkVHVUxBUjwvcm9sZUtleT4NCiAgICAgICAgPCEtLXNzbiBpcyBvcHRpb25hbC0tPg0KICAgICAgICA8c3NuPnt7PSViZWFuc2hlbGwlIGNvbS5jYS5zdi5kZXZ0ZXN0LnV0aWwuR2VuZXJhdGVTdHJpbmcuZm9yUmVnZXgoIltBLVphLXowLTldezUsMTV9Iik7fX08L3Nzbj4NCiAgICAgIDwvdXNlck9iamVjdD4NCiAgICA8L2FkZFVzZXJPYmplY3Q+DQogIDwvc29hcGVudjpCb2R5Pg0KPC9zb2FwZW52OkVudmVsb3BlPg==</request>
<style>document</style>
<use>literal</use>
<soapAction></soapAction>
<sslInfo>
<ssl-keystore-file></ssl-keystore-file>
<ssl-keystore-password-enc>f5504e2d23a7888253a27e8ef52607d8</ssl-keystore-password-enc>
<ssl-alias></ssl-alias>
<ssl-key-password-enc>f5504e2d23a7888253a27e8ef52607d8</ssl-key-password-enc>
</sslInfo>
<wsiInfo>
<wsi-check-wsdl>false</wsi-check-wsdl>
<wsi-check-msg>false</wsi-check-msg>
<wsi-display-type>onlyFailed</wsi-display-type>
<wsi-on-fail>continue</wsi-on-fail>
</wsiInfo>
<transport>
<soapVersionUri>1.1</soapVersionUri>
<httpVersionUri>1.1</httpVersionUri>
<webMethodUri>POST</webMethodUri>
<mtom>false</mtom>
<dontSendRequest>false</dontSendRequest>
<fault-as-error>true</fault-as-error>
<callTimeout>30000</callTimeout>
</transport>
<uddiActive>false</uddiActive>
<uddi-result>
<uddi-selection>
</uddi-selection>
</uddi-result>
<wss4jInfo>
<version>5</version>
<wssecurity>
<isSend>true</isSend>
<must>false</must>
<role></role>
</wssecurity>
<wsi-bsp>false</wsi-bsp>
</wss4jInfo>
<wsaInfo>
<useAddressing>false</useAddressing>
<must>false</must>
<to></to>
<toOverride>false</toOverride>
<toDefault>true</toDefault>
<from></from>
<fromOverride>false</fromOverride>
<fromDefault>true</fromDefault>
<action></action>
<actionOverride>false</actionOverride>
<actionDefault>true</actionDefault>
<msgid></msgid>
<msgidOverride>false</msgidOverride>
<msgidDefault>true</msgidDefault>
<replyTo></replyTo>
<replyToOverride>false</replyToOverride>
<faultTo></faultTo>
<faulttToOverride>false</faulttToOverride>
<addressingVersion>http://www.w3.org/2005/08/addressing</addressingVersion>
</wsaInfo>
<customHTTPHeaderInfo>
</customHTTPHeaderInfo>
<attachments>
<attachment-type>MIME</attachment-type>
</attachments>
<mtom-paths>
</mtom-paths>
    </Node>


    <Node name="JDBC  select users" log=""
          type="com.itko.lisa.jdbc.JDBCNode" 
          version="1" 
          uid="832A00442F5A11E890A61E4720524153" 
          think="500-1S" 
          useFilters="true" 
          quiet="false" 
          next="Output Log Message" > 


      <!-- Assertions -->
<CheckResult assertTrue="true" name="Ensure Result Set Contains Expression" type="com.itko.lisa.jdbc.CheckResultJDBCValue">
<log>Assertion name: Ensure Result Set Contains Expression checks for: true is of type: Ensure JDBC Result Set Contains Expression.</log>
<then>Output Log Message~1</then>
<valueToAssertKey></valueToAssertKey>
        <column>1</column>
        <regEx>{{id}}</regEx>
</CheckResult>

<driver>org.apache.derby.jdbc.ClientDriver</driver>
<dataSourceConnect>false</dataSourceConnect>
<jndiFactory></jndiFactory>
<jndiServerURL></jndiServerURL>
<jndiDataSourceName></jndiDataSourceName>
<connect>jdbc:derby://localhost:1529/lisa-demo-server.db</connect>
<user>sa</user>
<password_enc>aa3dae49b425766818574ddff7698e56</password_enc>
<onSQLError>abort</onSQLError>
<resultSet>true</resultSet>
<maxRows>-1</maxRows>
<keepOpen>false</keepOpen>
<usePool>true</usePool>
<sql>select * from users&#13;&#10;</sql>
<IsStoredProc>false</IsStoredProc>
    </Node>


    <Node name="Output Log Message" log=""
          type="com.itko.lisa.test.TestNodeLogger" 
          version="1" 
          uid="85D63FB02F5B11E890A61E4720524153" 
          think="500-1S" 
          useFilters="true" 
          quiet="true" 
          next="end" > 

<log>user not found in db</log>
    </Node>


    <Node name="Output Log Message~1" log=""
          type="com.itko.lisa.test.TestNodeLogger" 
          version="1" 
          uid="BC40FDF32F5D11E890A61E4720524153" 
          think="500-1S" 
          useFilters="true" 
          quiet="true" 
          next="end" > 

<log>user created</log>
    </Node>


    <Node name="abort" log=""
          type="com.itko.lisa.test.AbortStep" 
          version="1" 
          uid="7CF6CFD42F5711E890A61E4720524153" 
          think="0h" 
          useFilters="true" 
          quiet="true" 
          next="" > 

    </Node>


    <Node name="fail" log=""
          type="com.itko.lisa.test.Abend" 
          version="1" 
          uid="7CF6CFD62F5711E890A61E4720524153" 
          think="0h" 
          useFilters="true" 
          quiet="true" 
          next="abort" > 

    </Node>


    <Node name="end" log=""
          type="com.itko.lisa.test.NormalEnd" 
          version="1" 
          uid="7CF6CFD82F5711E890A61E4720524153" 
          think="0h" 
          useFilters="true" 
          quiet="true" 
          next="fail" > 

    </Node>


</TestCase>
